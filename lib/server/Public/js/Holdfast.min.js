!function e(t,r,n){function o(s,i){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return o(r?r:e)},d,d.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e){e("./_compiled/templates"),e("./API_services/Services"),e("./Standalone/Directives"),e("./Frontpage/Frontpage"),e("./ErrorModule/ErrorModule");var t=["Holdfast.templates","Holdfast.API","ui.router","Holdfast.Frontpage","Holdfast.Directives","Holdfast.Errors"];angular.module("Holdfast",t).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,r){e.state("main",{"abstract":!0,url:"/",template:"<main-menu></main-menu><ui-view/>"}),r.html5Mode(!0),t.otherwise(function(e){e.invoke(["$state",function(e){e.go("error.404")}])})}])},{"./API_services/Services":6,"./ErrorModule/ErrorModule":7,"./Frontpage/Frontpage":10,"./Standalone/Directives":11,"./_compiled/templates":13}],2:[function(e,t){t.exports=angular.module("Holdfast.API.Containers",[],["$provide",function(e){return e.factory("ContainerApi",["$q","$http",function(e,t){return{getAll:function(){var r=e.defer();return t.get("/api/v1/containers").success(function(e){r.resolve(e)}).error(function(){r.reject("Error")}),r.promise}}}])}])},{}],3:[function(e,t){t.exports=angular.module("Holdfast.API.Events",[],["$provide",function(e){return e.factory("EventStream",["$rootScope",function(e){var t=new EventSource("events/v1");return t.addEventListener("open",function(){console.log("Opened Event stream.")},!1),t.addEventListener("error",function(e){console.log("There was an error in the event-stream."),console.log(e)},!1),t.addEventListener("update",function(t){e.$broadcast("data-update",JSON.parse(t.data))},!1),t}])}])},{}],4:[function(e,t){t.exports=angular.module("Holdfast.API.Hosts",[],["$provide",function(e){return e.factory("HostApi",["$q","$http",function(e,t){return{getAll:function(){var r=e.defer();return t.get("/api/v1/hosts").success(function(e){console.log(e),r.resolve(e.data)}).error(function(){r.reject("Error")}),r.promise}}}])}])},{}],5:[function(e,t){t.exports=angular.module("Holdfast.API.Images",[])},{}],6:[function(e,t){e("./EventStream/EventStream"),e("./Containers/Containers"),e("./Hosts/Hosts"),e("./Images/Images");var r=["Holdfast.API.Events","Holdfast.API.Containers","Holdfast.API.Hosts","Holdfast.API.Images"];t.exports=angular.module("Holdfast.API",r)},{"./Containers/Containers":2,"./EventStream/EventStream":3,"./Hosts/Hosts":4,"./Images/Images":5}],7:[function(e){e("./controllers"),e("./directives"),angular.module("Holdfast.Errors",["Holdfast.Errors.controllers","Holdfast.Errors.directives"]).config(["$stateProvider",function(e){e.state("error",{"abstract":!0,url:"error/",template:"<ui-view/>"}).state("error.404",{url:"404",templateUrl:"errormodule/404"}).state("error.500",{url:"500",templateUrl:"errormodule/500"})}])},{"./controllers":8,"./directives":9}],8:[function(){angular.module("Holdfast.Errors.controllers",[])},{}],9:[function(){angular.module("Holdfast.Errors.directives",[])},{}],10:[function(){angular.module("Holdfast.Frontpage",[]).config(["$stateProvider",function(e){e.state("main.frontPage",{url:"",templateUrl:"frontpage/frontpage",controller:["$scope","HostApi","EventStream",function(e,t){e.showContainers=!1,e.connectedHosts=0,e.$on("data-update",function(t,r){e.$apply(function(){e.connectedHosts=r})}),t.getAll().then(function(t){e.connectedHosts=t})}]})}])},{}],11:[function(e){e("./MainMenu/MainMenu"),directives=["Holdfast.Directives.MainMenu"],angular.module("Holdfast.Directives",directives)},{"./MainMenu/MainMenu":12}],12:[function(){angular.module("Holdfast.Directives.MainMenu",[]).directive("mainMenu",function(){return{restrict:"E",templateUrl:"mainmenu/menu",controller:["$state",function(e){e.name="Main Menu"}]}})},{}],13:[function(e,t){"use strict";t.exports=angular.module("Holdfast.templates",[]).run(["$templateCache",function(e){e.put("errormodule/404",'<div class="container-fluid"><div class="row"><div class="col-sm-12"><h1>Sorry, we couldn\'t find that...</h1></div></div></div>'),e.put("errormodule/500",'<div class="container-fluid"><div class="row"><div class="col-sm-12"><h1>Something went wrong, badly, and we are embarrased about it.</h1></div></div></div>'),e.put("frontpage/frontpage",'<div class="row full-width"><div class="small-12 columns"><h3>Connected Hosts: {{connectedHosts.length}}</h3><div ng-repeat="host in connectedHosts" class="panel"><div class="panel-heading"><p>id: {{host.HostId}}</p></div><div class="panel-body"><ul class="no-bullet"><li ng-repeat="(image, container) in host.Images"><div class="panel"><div ng-click="this.showContainer = !this.showContainer" class="row clickyFinger"><div class="large-6 columns"><h4>Image: {{image}}</h4></div><div class="large-6 columns"><h4>{{container.length}} containers</h4></div></div><div ng-repeat="c in container" class="row"><div class="large-12 columns"><hr ng-show="$first"/><div class="row"><div class="large-6 columns"><h5>State: {{c.state}}</h5></div><div class="large-6 columns"><h5>Name: {{c.container.Name}}</h5></div></div><div class="row"><div class="large-12 columns"><h5 ng-repeat="(p, q) in c.container.Ports"><pre>Ports: {{p}}</pre><pre ng-repeat="d in q">  --> {{d.HostIp}}:{{d.HostPort}}</pre></h5></div></div><hr ng-hide="$last"/></div></div></div></li></ul></div></div></div></div>'),e.put("mainmenu/menu",'<div class="fixed"><nav class="top-bar"><ul class="title-area"><li class="name"><h1><a ui-sref="main.frontPage">Holdfast</a></h1></li></ul><section class="top-bar-section"><ul class="left"><li><a>Hosts</a></li><li><a>Images</a></li></ul></section></nav></div>')}])},{}]},{},[1]);